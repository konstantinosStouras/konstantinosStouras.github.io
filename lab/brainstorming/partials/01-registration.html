<section class="card" id="registrationCard">
  <div class="reg-header">
    <div class="reg-icon">üìã</div>
    <h1 class="reg-title">Registration</h1>
    <p class="reg-subtitle">Please provide some basic information about yourself.</p>
  </div>

  <form id="regForm" novalidate>
    <!-- Personal Information -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">üë§</div>
        <h2 class="section-title">Personal Information</h2>
      </div>

      <div class="grid">
        <div class="field-group">
          <label for="fullName">Full Name <span class="required-asterisk">*</span></label>
          <input id="fullName" name="fullName" type="text" placeholder="Enter your full name" />
          <div class="danger" data-err="fullName">Full name is required.</div>
        </div>

        <div class="field-group">
          <label for="email">Email Address <span class="required-asterisk">*</span></label>
          <input id="email" name="email" type="email" placeholder="you@example.com" />
          <div class="danger" data-err="email">Valid email is required.</div>
        </div>

        <div class="field-group">
          <label for="age">Age <span class="required-asterisk">*</span></label>
          <select id="age" name="age">
            <option value="">Select your age range</option>
            <option>18‚Äì24</option>
            <option>25‚Äì34</option>
            <option>35‚Äì44</option>
            <option>45‚Äì54</option>
            <option>55+</option>
          </select>
          <div class="danger" data-err="age">Please select your age range.</div>
        </div>

        <div class="field-group">
          <label for="gender">Gender (optional)</label>
          <select id="gender" name="gender">
            <option>Prefer not to say</option>
            <option>Female</option>
            <option>Male</option>
            <option>Non-binary</option>
            <option>Other</option>
          </select>
        </div>

        <div class="field-group">
          <label for="country">Country of Residence <span class="required-asterisk">*</span></label>
          <input id="country" name="country" type="text" placeholder="Enter your country" />
          <div class="danger" data-err="country">Please enter your country of residence.</div>
        </div>

        <div class="field-group">
          <label for="education">Education Level <span class="required-asterisk">*</span></label>
          <select id="education" name="education">
            <option value="">Please select...</option>
            <option>High School</option>
            <option>Some College</option>
            <option>Bachelor's Degree</option>
            <option>Master's Degree</option>
            <option>PhD/Doctoral</option>
            <option>Other</option>
          </select>
          <div class="danger" data-err="education">Please select your education level.</div>
        </div>
      </div>
    </div>

    <!-- Screening Questions -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">‚ùì</div>
        <h2 class="section-title">Screening Questions (Sleep and Wellness Focus)</h2>
      </div>

      <div class="field-group">
        <label>1) How important is sleep or wellness in your daily life?</label>
        <div class="scale-group scale">
          <label class="radio"><input type="radio" name="q1" value="1"><span>1</span></label>
          <label class="radio"><input type="radio" name="q1" value="2"><span>2</span></label>
          <label class="radio"><input type="radio" name="q1" value="3"><span>3</span></label>
          <label class="radio"><input type="radio" name="q1" value="4"><span>4</span></label>
          <label class="radio"><input type="radio" name="q1" value="5"><span>5</span></label>
        </div>
        <div class="hint">1 = Not important at all ‚Üí 5 = Extremely important</div>
        <div class="danger" data-err="q1">Please select a value.</div>
      </div>

      <div class="field-group">
        <label>2) How often do you engage in wellness-related activities?</label>
        <p class="hint" style="margin: 4px 0 12px;">e.g., exercise, meditation, sleep tracking, healthy eating</p>
        <div class="radio-group inline">
          <label class="radio"><input type="radio" name="q2" value="Daily"><span>Daily</span></label>
          <label class="radio"><input type="radio" name="q2" value="Several times a week"><span>Several times a week</span></label>
          <label class="radio"><input type="radio" name="q2" value="Occasionally"><span>Occasionally</span></label>
          <label class="radio"><input type="radio" name="q2" value="Rarely"><span>Rarely</span></label>
          <label class="radio"><input type="radio" name="q2" value="Never"><span>Never</span></label>
        </div>
        <div class="danger" data-err="q2">Please choose one option.</div>
      </div>

      <div class="field-group">
        <label>3) Have you purchased or used any products related to sleep or wellness in the past six months?</label>
        <div class="radio-group inline">
          <label class="radio"><input type="radio" name="q3" value="Yes"><span>Yes</span></label>
          <label class="radio"><input type="radio" name="q3" value="No"><span>No</span></label>
        </div>
        <div id="q3specWrap" class="hidden" style="margin-top:14px;">
          <label for="q3spec">If yes, please specify briefly</label>
          <textarea id="q3spec" name="q3spec" placeholder="e.g., sleep tracker, meditation app, weighted blanket" style="margin-top: 8px;"></textarea>
        </div>
        <div class="danger" data-err="q3">Please choose Yes or No.</div>
      </div>

      <div class="field-group">
        <label>4) Would you consider yourself interested in trying new products or technologies that promote better sleep or wellness?</label>
        <div class="scale-group scale">
          <label class="radio"><input type="radio" name="q4" value="1"><span>1</span></label>
          <label class="radio"><input type="radio" name="q4" value="2"><span>2</span></label>
          <label class="radio"><input type="radio" name="q4" value="3"><span>3</span></label>
          <label class="radio"><input type="radio" name="q4" value="4"><span>4</span></label>
          <label class="radio"><input type="radio" name="q4" value="5"><span>5</span></label>
        </div>
        <div class="hint">1 = Not interested ‚Üí 5 = Very interested</div>
        <div class="danger" data-err="q4">Please select a value.</div>
      </div>

      <div class="field-group">
        <label>5) Do you have any prior experience with innovation, marketing, or product development activities?</label>
        <div class="radio-group inline">
          <label class="radio"><input type="radio" name="q5" value="Yes"><span>Yes</span></label>
          <label class="radio"><input type="radio" name="q5" value="No"><span>No</span></label>
          <label class="radio"><input type="radio" name="q5" value="Unsure"><span>Unsure</span></label>
        </div>
        <div class="danger" data-err="q5">Please choose one option.</div>
      </div>
    </div>

    <!-- Consent -->
    <div class="form-section">
      <div class="section-header">
        <div class="section-icon">‚úì</div>
        <h2 class="section-title">Consent</h2>
      </div>

      <div class="consent-box tip">
        <div class="consent-item">
          <input type="checkbox" id="c1">
          <label for="c1">I confirm that I am 18 years or older and consent to participate in this research study.</label>
        </div>
        <div class="consent-item">
          <input type="checkbox" id="c2">
          <label for="c2">I understand that my responses will be used anonymously for research purposes only.</label>
        </div>
      </div>
    </div>

    <div class="submit-area" style="text-align:center">
      <!-- The data-next attribute lets the SPA router advance -->
      <button class="btn" data-next type="button" id="submitBtn">Submit and Start</button>
      <span class="foot" id="requiredNote">* Required fields</span>
    </div>
  </form>
</section>

<script>
  // Toggle extra textbox for Q3
  (function () {
    const wrap = document.getElementById('q3specWrap');
    if (!wrap) return;
    document.querySelectorAll('input[name="q3"]').forEach(r => {
      r.addEventListener('change', () => {
        wrap.classList.toggle('hidden', r.value !== 'Yes');
      });
    });
  })();
</script>
